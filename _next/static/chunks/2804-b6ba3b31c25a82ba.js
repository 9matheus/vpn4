(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2804],{12804:function(e,t,n){"use strict";n.d(t,{Z:function(){return Se}});var r=n(85893),o=n(67294),i=n(45697),a=n.n(i),c=n(62539),s=n(27764),l=n.n(s),u=function(e){var t=e.error;return t?(0,r.jsx)("span",{className:l().error,children:t}):null};u.propTypes={error:a().node};var d=u,p=n(73274),h=n.n(p);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var g=function(e){var t=e.value,n=e.placeholder,i=e.onChange,a=e.onBlur,c=e.error,s=e.className,l=void 0===s?"":s,u=e.rightSideSlot,p=void 0===u?null:u,f=b(e,["value","placeholder","onChange","onBlur","error","className","rightSideSlot"]),g=(0,o.useRef)(),v=(0,o.useRef)();return(0,r.jsxs)("div",{className:"".concat(h().field," ").concat(l||""),ref:g,children:[(0,r.jsxs)("div",{className:"".concat(h().wrapper," ").concat(c?h().errorWrapper:""),children:[(0,r.jsx)("input",m({ref:v,type:"text",placeholder:n,value:t,onChange:function(e){var t;i({value:e.target.value,isValid:null===v||void 0===v||null===(t=v.current)||void 0===t?void 0:t.checkValidity()})},onBlur:function(){a&&!g.current.matches(":focus-within")&&a()},className:h().input},f)),p&&(0,r.jsx)("div",{className:h().rightSideSlotWrapper,children:p})]}),(0,r.jsx)(d,{error:c})]})};g.propTypes={value:a().string.isRequired,placeholder:a().string,onChange:a().func.isRequired,onBlur:a().func,error:a().string,className:a().string,rightSideSlot:a().node};var v=g,y=n(71064),x=n(34555),j=n(6265),w=n.n(j),_=function(e){var t=e.type,n=e.appIdentity,o=void 0===n?"my.clearvpn.com":n,i=function(){return window.location="".concat("https://api.clearvpn.com","/v1/account/oauth/").concat(t,"/login?app-identity=").concat(o,"&locale=").concat((0,x.Kd)())};switch(t){case"google":return(0,r.jsx)("button",{title:"Sign up with Google",className:"".concat(w().socialButton," social-button-").concat(t),onClick:i,type:"button",children:(0,r.jsx)("img",{src:"/images/socials/oauth/google-icon.svg",width:"40",height:"40",alt:"Google icon"})});case"facebook":return(0,r.jsx)("button",{title:"Sign up with Facebook",className:"".concat(w().socialButton," social-button-").concat(t),onClick:i,type:"button",children:(0,r.jsx)("img",{src:"/images/socials/oauth/facebook-icon.svg",width:"40",height:"40",alt:"Facebook icon"})});case"apple":return(0,r.jsx)("button",{title:"Sign up with Apple",className:"".concat(w().socialButton," social-button-").concat(t),onClick:i,type:"button",children:(0,r.jsx)("img",{src:"/images/socials/oauth/apple-icon.svg",width:"40",height:"40",alt:"Apple icon"})});case"setapp":return(0,r.jsx)("button",{title:"Sign up with Setapp",className:"".concat(w().socialButton," social-button-").concat(t),onClick:i,type:"button",children:(0,r.jsx)("img",{src:"/images/socials/oauth/setapp-icon.svg",width:"40",height:"40",alt:"SetApp icon"})});default:return null}},k=n(28938),S=n(53561),C=n.n(S),O=function(e){var t=e.text,n=e.onClick;return(0,r.jsx)("button",{onClick:n,className:C().bottomLink,children:t})};O.propTypes={text:a().string.isRequired,onClick:a().func.isRequired};var N=O,E=function(e){var t=e.presetEmail,n=e.dispatch,i=(0,o.useState)(t||""),a=i[0],s=i[1],l=(0,o.useState)(""),u=l[0],d=l[1],p=(0,o.useState)(!0),h=p[0],f=p[1],m=(0,o.useState)(!1),b=m[0],g=m[1],x=function(){return 0===a.length?(d("Email is required"),!1):!!h||(d("Email is invalid"),!1)},j=location.pathname.startsWith("/redeem")?"clearvpn.com":"my.clearvpn.com";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:C().wrapper,children:(0,r.jsxs)("form",{className:C().form,onSubmit:function(e){e.preventDefault(),x()&&(n((0,c.s)(a)),n((0,c.vY)(b)),n((0,c.cD)(c.Jb)))},children:[(0,r.jsx)("h3",{className:C().title,children:"Sweet, let\u2019s get you started"}),(0,r.jsx)(v,{value:a,onChange:function(e){var t=e.value,n=e.isValid;s(t),f(n),d("")},onBlur:x,error:u,type:"email",autoComplete:"email",placeholder:"Enter your email"}),(0,r.jsx)(k.Z,{value:b,onChange:function(e){return g(e)},label:"Send me useful tips, special offers and updates",className:C().newsletterCheckbox}),(0,r.jsx)(y.Z,{children:"Continue"}),!location.pathname.startsWith("/redeem")&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:C().socialButtonsLabel,children:"or sign in with"}),(0,r.jsxs)("div",{className:C().socialButtonsWrapper,children:[(0,r.jsx)(_,{type:"google",appIdentity:j}),(0,r.jsx)(_,{type:"facebook",appIdentity:j}),(0,r.jsx)(_,{type:"apple",appIdentity:j}),(0,r.jsx)(_,{type:"setapp",appIdentity:j})]})]})]})}),(0,r.jsx)(N,{text:"I have an account",onClick:function(){n((0,c.s)(a)),n((0,c.vY)(b)),n((0,c.cD)(c.S1))}})]})};E.propTypes={presetEmail:a().string.isRequired,dispatch:a().func.isRequired};var P=E,T=n(38318),B="6LcQBDMiAAAAACIXHjqGkXrWg5n9vnCH64LCoeB0",R=function(){return new Promise((function(e){window.grecaptcha.enterprise.ready((function(){window.grecaptcha.enterprise.execute(B,{action:"login"}).then((function(t){return e({token:t,captchaKey:B})}))}))}))},A=n(77184),D=n.n(A),F=function(e){var t=e.children,n=e.isChecked,o=e.onChange,i=e.disabled,a=e.className;return(0,r.jsxs)("label",{className:"".concat(D().wrapper," ").concat(a," ").concat(i?D().disabled:""),children:[(0,r.jsx)("input",{type:"checkbox",checked:n,onChange:function(e){i||o(e)},className:D().input}),(0,r.jsx)("div",{className:"".concat(D().toggleContainer," ").concat(n?D().checked:""),children:(0,r.jsx)("div",{className:D().toggleBall})}),(0,r.jsx)("span",{className:D().text,children:t})]})};F.propTypes={isChecked:a().bool.isRequired,onChange:a().func.isRequired,label:a().string};var I=F,L=n(70273),W=n.n(L);function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Z=function(e){var t=e.onClick;return(0,r.jsx)("button",{onClick:t,type:"button",className:W().showPasswordButton,children:"Show"})},M=function(e){var t=e.value,n=e.onChange,i=e.error,a=e.disabled,c=q(e,["value","onChange","error","disabled"]),s=t.length>0,l=(0,o.useState)("password"),u=l[0],d=l[1];return(0,r.jsx)(v,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}({value:t,onChange:n,error:i,rightSideSlot:s&&!a&&(0,r.jsx)(Z,{onClick:function(){d("password"===u?"text":"password")}}),type:u,className:W().passwordFieldWithShow,disabled:a},c))};M.propTypes={value:a().string.isRequired,onChange:a().func.isRequired,error:a().string,disabled:a().bool};var V=M,Y=function(e){var t=e.onClick;return(0,r.jsxs)("button",{onClick:t,type:"button",className:C().backButton,children:[(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"#212231",fillOpacity:"0.64",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4714 3.52925C10.7318 3.7896 10.7318 4.21171 10.4714 4.47206L6.94285 8.00065L10.4714 11.5292C10.7318 11.7896 10.7318 12.2117 10.4714 12.4721C10.2111 12.7324 9.78899 12.7324 9.52864 12.4721L5.52864 8.47206C5.26829 8.21171 5.26829 7.7896 5.52864 7.52925L9.52864 3.52925C9.78899 3.2689 10.2111 3.2689 10.4714 3.52925Z"})}),(0,r.jsx)("span",{children:"Back"})]})},G=function(){return(0,r.jsxs)("span",{className:C().recaptchaDisclaimer,children:["This site is protected by reCAPTCHA Enterprise and the Google ",(0,r.jsx)("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noreferrer",children:"Privacy Policy"})," and "," ",(0,r.jsx)("a",{href:"https://policies.google.com/terms",target:"_blank",rel:"noreferrer",children:"Terms of Service"})," apply."]})},H=function(e){var t=e.email,n=e.presetPassword,i=e.code,a=e.isSubscribedToNewsletter,s=e.dispatch,l=(0,o.useState)(n||""),u=l[0],p=l[1],h=(0,o.useState)(""),f=h[0],m=h[1],b=(0,o.useState)(!0),g=b[0],v=b[1],x=(0,o.useState)(""),j=x[0],w=x[1],_=(0,o.useState)(!1),k=_[0],S=_[1],O=function(){return s((0,c.cD)(c.v1))};return(0,r.jsx)("div",{className:C().wrapper,children:(0,r.jsxs)("form",{className:C().form,onSubmit:function(e){if(e.preventDefault(),!k&&function(){var e=!0;return u.length<8?(m("Password must be at least 8 characters long"),e=!1):m(""),g?w(""):(w("You must accept Terms of Use to sign up"),e=!1),e}()){S(!0);var n=Object.fromEntries(Object.entries(Object.fromEntries(new URLSearchParams(location.search))).filter((function(e){return!!e[1]})));R().then((function(e){var r=e.token,o=e.captchaKey;return(0,T.d)("/v1/account/sign-up-temporarily","POST",{email:t,password:u,receive_newsletters:a,recaptcha_token:r,recaptcha_site_key:o,code:i,analytics:n},location.pathname.startsWith("/redeem")?{"App-Identity":"clearvpn.com"}:{})})).then((function(){s((0,c.EI)(u)),s((0,c.cD)(c.QC))}),(function(e){6===e.code?(s((0,c.IY)(!0)),s((0,c.cD)(c.S1))):3===e.code&&"email is invalid"===e.message?m("Email doesn\u2019t exist"):(console.error("Sign Up request failed",e),m("Something went wrong, please try again later")),S(!1)}))}},children:[(0,r.jsx)(Y,{onClick:O}),(0,r.jsx)("h3",{className:C().title,children:"Think of a strong password"}),(0,r.jsxs)("span",{className:C().subtitle,children:["Continue with new account",(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:t}),(0,r.jsx)("button",{className:C().subtitleButton,type:"button",onClick:O,children:"Retype"})]}),(0,r.jsx)(V,{value:u,onChange:function(e){var t=e.value;return p(t)},error:f,autoComplete:"new-password",placeholder:"Enter your password",disabled:k}),(0,r.jsxs)(I,{isChecked:g,onChange:function(){return v((function(e){return!e}))},className:C().underToggle,disabled:k,children:["Accept ",(0,r.jsx)("a",{href:"/terms-of-service",children:"Terms of Use"})," and ",(0,r.jsx)("a",{href:"/privacy-policy",children:"Privacy Policy"})]}),(0,r.jsx)(d,{error:j}),(0,r.jsx)(y.Z,{isLoading:k,children:"Sign up"}),(0,r.jsx)(G,{})]})})};H.propTypes={email:a().string.isRequired,presetPassword:a().string,dispatch:a().func.isRequired};var z,K=H,J="team@clearvpn.com",Q=function(e){return e.includes("@gmail.")||e.includes("@google")},X=function(e){return e.includes("@hotmail")||e.includes("@outlook")||e.includes("@live.")||e.includes("@windowslive")},$=function(e){return e.includes("@yahoo")||e.includes("@yahoomail")||e.includes("@rocketmail")||e.includes("@ymail")},ee=function(e){return e.includes("@proton")||e.includes("@protonmail")||e.includes("@pm.")},te=function(e){return e.includes("@icloud")||e.includes("@me.")||e.includes("@mac.")},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J,n=encodeURIComponent(t),r=encodeURIComponent(e);return Q(e)?"https://mail.google.com/mail/u/".concat(e,"/#search/from%3A(").concat(n,")+in%3Aanywhere"):X(e)?"https://outlook.live.com/mail/?login_hint=".concat(r):$(e)?"https://mail.yahoo.com/d/search/keyword=from%253A".concat(n):ee(e)?"https://mail.proton.me/u/0/all-mail#from=".concat(n):te(e)?"https://www.icloud.com/mail/":null},re=function(e,t){z=setInterval((function(){e((function(e){return e<=1?(clearInterval(z),t(!0),null):e-1}))}),1e3)},oe=function(e){var t=e.email,n=e.password,i=e.code,a=e.dispatch,s=ne(t),l=(0,o.useState)(59),u=l[0],d=l[1],p=(0,o.useState)(!1),h=p[0],f=p[1],m=(0,o.useState)(!1),b=m[0],g=m[1];(0,o.useEffect)((function(){re(d,f)}),[]);return(0,r.jsx)("div",{className:C().wrapper,children:(0,r.jsxs)("div",{className:C().form,children:[(0,r.jsx)(Y,{onClick:function(){return a((0,c.cD)(c.Jb))}}),(0,r.jsx)("h3",{className:C().title,children:"Verify email"}),(0,r.jsxs)("span",{className:C().subtitle,children:["Continue with new account",(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:t}),(0,r.jsx)("button",{className:C().subtitleButton,type:"button",onClick:function(){return a((0,c.cD)(c.v1))},children:"Retype"})]}),s&&(0,r.jsx)(y.Z,{rootElement:"a",href:s,children:"Open your inbox"}),(0,r.jsxs)(y.Z,{onClick:function(){g(!0),R().then((function(e){var r=e.token,o=e.captchaKey;return(0,T.d)("/v1/account/sign-up-temporarily","POST",{email:t,password:n,code:i,receive_newsletters:!1,recaptcha_token:r,recaptcha_site_key:o,analytics:Object.fromEntries(new URLSearchParams(location.search))})})).then((function(){f(!1),d(59),re(d,f),g(!1)}))},style:"secondary",isLoading:b,disabled:!h,children:[u&&(0,r.jsxs)("span",{className:C().countdownTimer,children:["0:",u.toString().padStart(2,"0")]}),"Resend email"]})]})})};oe.propTypes={email:a().string,password:a().string,dispatch:a().func.isRequired};var ie=oe,ae=n(29615),ce=n(14229);function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ue=function(e){var t=e.onClick;return(0,r.jsx)("button",{onClick:t,type:"button",className:W().clearButton,children:(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"#212231",fillOpacity:"0.32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.00004 14.6673C11.6819 14.6673 14.6667 11.6825 14.6667 8.00065C14.6667 4.31875 11.6819 1.33398 8.00004 1.33398C4.31814 1.33398 1.33337 4.31875 1.33337 8.00065C1.33337 11.6825 4.31814 14.6673 8.00004 14.6673ZM10.6927 9.65147C10.9805 9.93918 10.9805 10.4057 10.6927 10.6934C10.405 10.9811 9.93855 10.9811 9.65084 10.6934L8.13485 9.17739L6.61886 10.6934C6.33114 10.9811 5.86466 10.9811 5.57694 10.6934C5.28923 10.4057 5.28923 9.93918 5.57694 9.65147L7.09294 8.13548L5.57694 6.61948C5.28923 6.33177 5.28923 5.86529 5.57694 5.57757C5.86466 5.28986 6.33114 5.28986 6.61886 5.57757L8.13485 7.09357L9.65084 5.57757C9.93855 5.28986 10.405 5.28986 10.6927 5.57757C10.9805 5.86529 10.9805 6.33177 10.6927 6.61948L9.17676 8.13548L10.6927 9.65147Z"})})})},de=function(e){var t=e.value,n=e.onChange,o=e.error,i=e.disabled,a=le(e,["value","onChange","error","disabled"]),c=t.length>2;return(0,r.jsx)(v,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){se(e,t,n[t])}))}return e}({value:t,onChange:n,error:o,rightSideSlot:c&&!i&&(0,r.jsx)(ue,{onClick:function(){return n({value:"",valid:!0})}}),type:"email",autoComplete:"email",placeholder:"Your email",className:W().emailFieldWithClear},a))};de.propTypes={value:a().string.isRequired,onChange:a().func.isRequired,error:a().string,disabled:a().bool};var pe=de,he=function(e){var t=e.state,n=e.dispatch,i=e.callbacks,a=t.email,s=t.hasAttemptedExistingUserSignUp,l=(0,o.useState)(a||""),u=l[0],d=l[1],p=(0,o.useState)(""),h=p[0],f=p[1],m=(0,o.useState)(!0),b=m[0],g=m[1],v=(0,o.useState)(!1),x=v[0],j=v[1],w=(0,o.useState)(""),k=w[0],S=w[1],O=(0,o.useState)(""),E=O[0],P=O[1],B=(0,o.useState)(!1),A=B[0],D=B[1];(0,o.useEffect)((function(){u.length>1&&x?D(!0):D(!1)}),[u,x]);var F=(0,o.useState)(!1),I=F[0],L=F[1],W=function(){if(0===u.length)f("Email is required");else{if(b)return f(""),!0;f("Email is invalid")}return!1},U=function(){return k.length<8?(P("Password must be at least 8 characters long"),!1):(P(""),!0)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:C().wrapper,children:(0,r.jsxs)("form",{className:C().form,onSubmit:function(e){e.preventDefault(),I||W()&&U()&&(D(!0),L(!0),R().then((function(e){var t=e.token,n=e.captchaKey;return(0,T.d)("/v1/account/sign-in","POST",{email:u,password:k,user_id:"01FF4RSMQ5D6M4965RTCZ8Z5SA",recaptcha_token:t,recaptcha_site_key:n})})).then((function(e){if(console.log(e),!e.access_token)throw e;(0,ce.Fm)(e.access_token,e.refresh_token),i(t).onAuthComplete?i(t).onAuthComplete():window.location.href="".concat("https://my.clearvpn.com","/profile")}),(function(e){console.log(e),3===e.code?P("Email or password is incorrect"):7===e.code?window.location.href="".concat("https://my.clearvpn.com","/enter/restore"):P("Something went wrong, please try again later"),L(!1)})))},children:[(0,r.jsx)("h3",{className:C().title,children:s?"You already have an account!":"Log in to your account"}),(0,r.jsx)(pe,{value:u,onChange:function(e){var t=e.value,n=e.isValid;d(t),g(n),f("")},onFocus:function(){return j(!0)},onBlur:W,error:h,disabled:I}),(0,r.jsx)(V,{value:k,onChange:function(e){var t=e.value;S(t),P("")},onBlur:U,error:E,autoComplete:"password",placeholder:"Your password",disabled:I}),(0,r.jsx)("button",{onClick:function(){n((0,c.s)(u)),a!==u&&n((0,c.IY)(!1)),n((0,c.cD)(c.Iu))},className:C().sideButton,type:"button",children:"Forgot password?"}),(0,r.jsx)(y.Z,{type:"submit",isLoading:I,children:"Continue"}),(0,r.jsx)(G,{}),!location.pathname.startsWith("/redeem")&&(0,r.jsx)(ae.Z,{classNames:{enter:C().socialBlockHidden,enterActive:C().socialBlockVisible,enterDone:C().socialBlockVisible,exit:C().socialBlockHidden,exitActive:C().socialBlockVisible,exitDone:C().socialBlockHidden},timeout:300,in:!A,children:(0,r.jsxs)("div",{className:C().socialBlock,children:[(0,r.jsx)("span",{className:C().socialButtonsLabel,children:"or log in with"}),(0,r.jsxs)("div",{className:C().socialButtonsWrapper,children:[(0,r.jsx)(_,{type:"google"}),(0,r.jsx)(_,{type:"facebook"}),(0,r.jsx)(_,{type:"apple"}),(0,r.jsx)(_,{type:"setapp"})]})]})})]})}),(0,r.jsx)(N,{text:"Create a new account instead",onClick:function(){n((0,c.s)(u)),a!==u&&n((0,c.IY)(!1)),n((0,c.cD)(c.v1))}})]})};he.propTypes={state:a().object.isRequired,isAlreadySignedUpTitle:a().bool,dispatch:a().func.isRequired};var fe=he,me=n(59224),be=function(e){var t=e.presetEmail,n=e.dispatch,i=(0,o.useState)(t||""),a=i[0],s=i[1],l=(0,o.useState)(!0),u=l[0],d=l[1],p=(0,o.useState)(""),h=p[0],f=p[1],m=(0,o.useState)(!1),b=m[0],g=m[1],x=function(){return 0===a.length?(f("Email is required"),!1):!!u||(f("Email is invalid"),!1)};return(0,r.jsx)("div",{className:C().wrapper,children:(0,r.jsxs)("form",{className:C().form,onSubmit:function(e){e.preventDefault(),b||x()&&(g(!0),n((0,c.s)(a)),(0,me.d)("/v1/account/reset-password","POST",{email:a}).then((function(e){5===e.code?f("Use doesn\u2019t exist"):n((0,c.cD)(c.sb)),g(!1)})).catch((function(e){console.error(e),f("Something went wrong, please try again later"),g(!1)})))},children:[(0,r.jsx)(Y,{onClick:function(){n((0,c.cD)(c.S1)),n((0,c.s)(a))}}),(0,r.jsx)("h3",{className:C().title,children:"Restore password"}),(0,r.jsx)("span",{className:C().subtitle,children:"You will receive an email with restore link"}),(0,r.jsx)(v,{value:a,onChange:function(e){var t=e.value,n=e.isValid;s(t),d(n),f("")},error:h,onBlur:x,type:"email",autoComplete:"email",placeholder:"Your email",disabled:b}),(0,r.jsx)(y.Z,{isLoading:b,children:"Send me a link"})]})})};be.propTypes={presetEmail:a().string,dispatch:a().func.isRequired};var ge=be,ve=function(e){var t=e.email,n=e.dispatch,o=function(){return n((0,c.cD)(c.Iu))};return(0,r.jsx)("div",{className:C().wrapper,children:(0,r.jsxs)("form",{className:C().form,children:[(0,r.jsx)(Y,{onClick:o}),(0,r.jsx)("h3",{className:C().title,children:"Restore link have been sent"}),(0,r.jsxs)("span",{className:C().subtitle,children:["to ",(0,r.jsx)("b",{children:t}),(0,r.jsx)("button",{className:C().subtitleButton,type:"button",onClick:o,children:"Retype"})]}),(0,r.jsx)(y.Z,{rootElement:"a",href:ne(t),children:"Open your inbox"})]})})};ve.propTypes={email:a().string,dispatch:a().func.isRequired};var ye=ve;function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xe(e,t,n[t])}))}return e}var we=function(e){var t=e.state,n=e.dispatch,i=e.callbacks,a=(0,o.useState)(t.code||""),s=a[0],l=a[1],u=(0,o.useState)(""),d=u[0],p=u[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:C().wrapper,children:(0,r.jsxs)("form",{className:C().form,onSubmit:function(e){return e.preventDefault(),s.length<4?(p("Oops, looks like you left it empty! Try again."),!1):(0,T.d)("/v1/store/promocode/universal/check","POST",{code:s}).then((function(e){var r;e.is_valid?(0,ce.jl)()?(n((0,c.n4)(s)),null===(r=i(je({},t,{code:s})))||void 0===r||r.onAuthComplete()):(i(je({},t,{code:s})).onCodeCheckComplete(),n((0,c.n4)(s)),n((0,c.cD)(c.v1))):p("Uh-oh, that doesn\u2019t look like our code! Try again.")}),(function(e){console.error(e),p("Uh-oh,something went wrong! Please, try again later.")}))},children:[(0,r.jsx)("h3",{className:C().title,children:"Redeem your ClearVPN code"}),(0,r.jsx)(v,{value:s,onChange:function(e){var t=e.value;l(t),p("")},error:d,type:"text",placeholder:"Enter your code"}),(0,r.jsx)(y.Z,{children:"Continue"}),(0,r.jsxs)("p",{className:C().redeemBottomText,children:["Learn more about ClearVPN"," ",(0,r.jsx)("a",{href:"https://support.clearvpn.com/hc/en-us/articles/360017551759-How-to-use-a-promo-code-",children:"Promo codes"}),(0,r.jsx)("br",{}),"and"," ",(0,r.jsx)("a",{href:"https://support.clearvpn.com/hc/en-us/articles/5507255537308-Who-can-invite-friends-Can-I-invite-someone-who-s-already-signed-up-",children:"Referral Program"}),"."]})]})})})};we.propTypes={dispatch:a().func.isRequired};var _e=we,ke=function(e){var t=e.presetState,n=e.callbacks,i=void 0===n?function(){return{}}:n,a=(0,c.dn)(t),s=a.state,l=a.dispatch,u=s.currentForm,d=s.email,p=s.newPassword,h=s.code,f=s.isSubscribedToNewsletter;switch((0,o.useEffect)((function(){t.form&&l((0,c.cD)(t.form))}),[t.form]),u){case c.v1:return(0,r.jsx)(P,{presetEmail:d,dispatch:l});case c.Jb:return(0,r.jsx)(K,{email:d,presetPassword:p,code:h,isSubscribedToNewsletter:f,dispatch:l});case c.QC:return(0,r.jsx)(ie,{email:d,password:p,code:h,dispatch:l});case c.S1:return(0,r.jsx)(fe,{dispatch:l,state:s,callbacks:i});case c.Iu:return(0,r.jsx)(ge,{presetEmail:d,dispatch:l});case c.sb:return(0,r.jsx)(ye,{email:d,dispatch:l});case c.kW:return(0,r.jsx)(_e,{state:s,dispatch:l,callbacks:i});default:return null}};ke.propTypes={presetForm:a().oneOf([c.v1,c.S1,c.Jb,c.Iu,c.sb,c.QC,c.kW]),callbacks:a().func};var Se=ke},28938:function(e,t,n){"use strict";var r=n(85893),o=(n(67294),n(45697)),i=n.n(o),a=n(83813),c=n(78981),s=n.n(c),l=function(e){var t=e.onChange,n=e.label,o=e.value,i=e.isLoading,c=e.id,l=void 0===c?"checkbox":c,u=e.className,d=void 0===u?"":u;return(0,r.jsxs)("div",{className:"".concat(s().container," ").concat(d),children:[i?(0,r.jsx)(a.Z,{colored:!0,size:14}):(0,r.jsx)("input",{type:l,onChange:function(){return t(!o)},id:"checkbox",checked:o,className:s().input}),(0,r.jsx)("label",{htmlFor:l,className:"".concat(s().label," ").concat(i?s().noCheckbox:""),children:n})]})};l.propTypes={onChange:i().func,label:i().string,value:i().bool,isLoading:i().bool,id:i().string},t.Z=l},71064:function(e,t,n){"use strict";var r=n(85893),o=(n(67294),n(45697)),i=n.n(o),a=n(83813),c=n(22584),s=n(85769),l=n.n(s);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h=function(e){var t=e.children,n=e.rootElement,o=void 0===n?"button":n,i=e.style,s=void 0===i?"primary":i,u=e.onClick,h=e.isLoading,f=e.className,m=e.loaderSize,b=void 0===m?24:m,g=p(e,["children","rootElement","style","onClick","isLoading","className","loaderSize"]),v="".concat(l().button," ").concat("secondary"===s?l().secondary:""," ").concat(h?l().loading:""," ").concat(f||"");return"button"===o?(0,r.jsx)("button",d({type:"submit",onClick:u,className:v},g,{disabled:h||g.disabled,children:h?(0,r.jsx)(a.Z,{white:"primary"===s,size:b}):t})):(0,r.jsx)(c.Z,d({className:v},g,{children:h?(0,r.jsx)(a.Z,{white:"primary"===s,size:b,stroke:2}):t}))};h.propTypes={children:i().node,rootElement:i().oneOf(["button","a"]),style:i().oneOf(["primary","secondary"]),onClick:i().func,isLoading:i().bool,className:i().string,loaderSize:i().number},t.Z=h},62539:function(e,t,n){"use strict";n.d(t,{EI:function(){return v},IY:function(){return w},Iu:function(){return u},Jb:function(){return c},QC:function(){return s},S1:function(){return l},cD:function(){return f},dn:function(){return O},kW:function(){return p},n4:function(){return x},s:function(){return b},sb:function(){return d},v1:function(){return a},vY:function(){return k}});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}var a="EMAIL_SIGNUP_FORM",c="PASSWORD_SIGNUP_FORM",s="VERIFY_EMAIL_FORM",l="LOG_IN_FORM",u="RESTORE_PASSWORD_FORM",d="RESTORE_PASSWORD_SENT_FORM",p="REDEEM_FORM",h="SWITCH_TO_FORM",f=function(e){return{type:h,form:e}},m="UPDATE_EMAIL",b=function(e){return{type:m,email:e}},g="UPDATE_NEW_PASSWORD",v=function(e){return{type:g,newPassword:e}},y="UPDATE_CODE",x=function(e){return{type:y,code:e}},j="SET_ATTEMPTED_EXISTING_USER_SIGN_UP",w=function(e){return{type:j,value:e}},_="UPDATE_SUBSCRIBED_TO_NEWSLETTER",k=function(e){return{type:_,isSubscribed:e}},S={currentForm:a,email:"",newPassword:"",code:"",hasAttemptedExistingUserSignUp:!1,isSubscribedToNewsletter:!1},C=function(e,t){switch(t.type){case h:return i({},e,{currentForm:t.form});case m:return i({},e,{email:t.email});case g:return i({},e,{newPassword:t.newPassword});case y:return i({},e,{code:t.code});case j:return i({},e,{hasAttemptedExistingUserSignUp:t.value});case _:return console.log(i({},e,{isSubscribedToNewsletter:t.isSubscribed})),i({},e,{isSubscribedToNewsletter:t.isSubscribed});default:return e}},O=function(e){var t=(0,r.useReducer)(C,i({},S,e));return{state:t[0],dispatch:t[1]}}},38318:function(e,t,n){"use strict";n.d(t,{D:function(){return u},d:function(){return l}});var r=n(14229),o=n(34555);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}var c="https://api.clearvpn.com",s="my.clearvpn.com",l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return fetch(c+e,{headers:a({"Content-Type":"application/json","App-Identity":s,"User-Locale":(0,o.Kd)()},r),method:t,body:JSON.stringify(n)}).then((function(e){return e.json().then((function(t){return{ok:e.ok,body:t}}),(function(t){return{ok:!1,body:"".concat(e.status,": ").concat(t)}}))})).then((function(e){var t=e.ok,n=e.body;if(t)return n;throw n}))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;if(!(0,r.jl)())throw(0,r.Zz)(),new Error("User unauthenticated");return fetch(c+e,{mode:"cors",headers:{"Content-Type":"application/json","App-Identity":s,"User-Locale":(0,o.Kd)(),Authorization:(0,r.hP)()},method:t,body:JSON.stringify(n)}).then((function(e){return e.json().then((function(t){return{res:t,ok:e.ok,status:e.status}}),(function(t){return{ok:!1,body:"".concat(e.status,": ").concat(t)}}))})).then((function(o){var i=o.res,a=o.ok,c=o.status;if(a)return i;if(7===i.code)throw window.location="".concat("https://my.clearvpn.com","/enter/restore"),i;if(401===c){var s=(0,r.YV)();if(s)return l("/v1/account/refresh","POST",{refresh_token:s}).then((function(o){if(o.access_token)return(0,r.Fm)(o.access_token,o.refresh_token),u(e,t,n);throw o}));throw new Error("User unauthenticated")}throw i}))}},53561:function(e){e.exports={wrapper:"AuthForm_wrapper__xT0Z3",form:"AuthForm_form__H0BD2",backButton:"AuthForm_backButton__hdyv7",title:"AuthForm_title__37ND6",subtitle:"AuthForm_subtitle__psEk6",subtitleButton:"AuthForm_subtitleButton__n5CpK",newsletterCheckbox:"AuthForm_newsletterCheckbox__sTCBX",underToggle:"AuthForm_underToggle__rA1jQ",socialBlock:"AuthForm_socialBlock__ka6lK",socialBlockHidden:"AuthForm_socialBlockHidden__uj8yi",socialBlockVisible:"AuthForm_socialBlockVisible__CbaLi",socialButtonsLabel:"AuthForm_socialButtonsLabel__oPOry",socialButtonsWrapper:"AuthForm_socialButtonsWrapper__TLP9v",sideButton:"AuthForm_sideButton__Q_2vY",bottomLink:"AuthForm_bottomLink__Mg8v_",recaptchaDisclaimer:"AuthForm_recaptchaDisclaimer__qbEkw",redeemBottomText:"AuthForm_redeemBottomText__FY_V6",countdownTimer:"AuthForm_countdownTimer__ECDz5"}},78981:function(e){e.exports={container:"Checkbox_container__4FnKw",input:"Checkbox_input__E_kHL",label:"Checkbox_label__dpAPB",large:"Checkbox_large__Wc9vp",noCheckbox:"Checkbox_noCheckbox__nNqp6"}},85769:function(e){e.exports={button:"Button_button__fVg99",secondary:"Button_secondary__Lo_qD",loading:"Button_loading__D2Mp8"}},6265:function(e){e.exports={socialButton:"SocialButton_socialButton__bPRKw"}},77184:function(e){e.exports={wrapper:"Toggle_wrapper__33TGx",disabled:"Toggle_disabled__5Xn6x",input:"Toggle_input__ozCRR",toggleContainer:"Toggle_toggleContainer__og05U",toggleBall:"Toggle_toggleBall__JFIFU",checked:"Toggle_checked__LWwID",text:"Toggle_text__eAtWb"}},70273:function(e){e.exports={clearButton:"EmailInputWithClearButton_clearButton__WqVTA",showPasswordButton:"EmailInputWithClearButton_showPasswordButton__nycwh",emailFieldWithClear:"EmailInputWithClearButton_emailFieldWithClear__zO0i2",passwordFieldWithShow:"EmailInputWithClearButton_passwordFieldWithShow___MwDi"}},27764:function(e){e.exports={error:"InputError_error__e3Dvm"}},73274:function(e){e.exports={field:"TextInput_field__Vueud",wrapper:"TextInput_wrapper__tqnhy",rightSideSlotWrapper:"TextInput_rightSideSlotWrapper__usMua",input:"TextInput_input__5o_PV",errorWrapper:"TextInput_errorWrapper__Z2Jv6"}}}]);